services:
  mass-gh-sponsor:
    container_name: mass-gh-sponsor
    build:
      context: .
      dockerfile: Dockerfile
    volumes:
      - type: bind
        source: /tmp/mass-gh-sponsor.sql
        target: /app/db.sql
      - type: bind
        source: /tmp/mass-gh-sponsor.json
        target: /app/config.json
    command: /app/mass-gh-sponsor --config config.json
    working_dir: /app
    environment:
      DB_PATH: /app/db.sql
      TD_API_KEY: "${TD_API_KEY}"
      GH_CLASSIC_ACCESS_TOKEN: "${GH_CLASSIC_ACCESS_TOKEN}"